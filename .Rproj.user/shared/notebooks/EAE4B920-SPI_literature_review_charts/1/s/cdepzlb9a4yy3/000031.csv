"0","#| label: incomesurveys"
"0","#| fig-width: 9"
"0","#| fig-height: 6"
"0",""
"0",""
"0","#read in data from World Bank's PIP"
"0","pip_df <- read_csv(paste0(output_dir, ""/Figure_1_data.csv"")) %>%"
"0","  mutate(log_welfare = log(mean_welfare)) # create logged welfare for figure"
"2","[1mRows: [22m[34m166[39m [1mColumns: [22m[34m4[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (1): iso3c
[32mdbl[39m (3): number_surveys, avg_mean_welfare, mean_welfare"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"0","#plot number of surveys against mean welfare in 2022."
"0","ggplot(pip_df, aes(x=mean_welfare, y=number_surveys)) +"
"0","  geom_point(color='blue') +"
"0","  geom_smooth(method='lm', se=FALSE, color='darkred') +"
"0","  theme_spi() +"
"0","  #scale_x_continuous(trans = scales::log2_trans()) +"
"0","  ylab('Number of Poverty Surveys') +"
"0","  xlab('$ Mean Welfare (logged scale)') +"
"0","  geom_richtext("
"0","    aes(x = 2, y = 45,label = eq_plot_txt(pip_df, number_surveys, log_welfare), hjust=0.2)"
"0","  ) +"
"0","  scale_x_log10("
"0","    label=scales::comma"
"0","  ) +"
"0","  labs("
"0","    caption = str_wrap('Note: Estimated coefficients are shown from an OLS regression of the number of surveys on log of mean consumption (income); robust standard errors are in parentheses.',100)"
"0","  ) +"
"0","  #annotate(""label"", x = 20, y = 5, label = eq_plot_txt(pov_df_2022), hjust = 0) +"
"0","  theme(legend.position = 'bottom'"
"0","        )"
"0",""
