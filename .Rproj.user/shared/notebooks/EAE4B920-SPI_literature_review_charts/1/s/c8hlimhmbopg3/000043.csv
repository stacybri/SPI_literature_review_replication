"0","#| label: volatilityplt23"
"0","#| fig-height: 8"
"0",""
"0","country_samp <- sample(unique(volatility_df$country),25)"
"0","volatility_trace_df <- volatility_df %>%"
"0","  as_tibble() %>%"
"0","  filter(date>=2016) %>%"
"0","  filter(!is.na(SPI.INDEX) & !is.na(ODIN_score)) %>%"
"0","  pivot_longer("
"0","    cols=c('SPI.INDEX', 'ODIN_score'),"
"0","    names_to='indicator',"
"0","    values_to='value'"
"0","  )  %>%"
"0","  mutate(indicator=case_when("
"0","    indicator=='ODIN_score' ~ ""ODIN Score"","
"0","    indicator==""SPI.INDEX"" ~ ""SPI Overall Score"""
"0","  ))"
"0","  "
"0","#randomly seleect a few countries  "
"0","set.seed(72456)"
"0","country_samp <- sample(unique(volatility_trace_df$country),15)"
"0","volatility_trace_sample_df <- volatility_trace_df  %>%"
"0","  filter(country %in% country_samp)"
"0",""
"0",""
"0","country_vol_plot <- function(cntry) {"
"0","  "
"0","  data <- volatility_trace_sample_df %>%"
"0","    filter(country==cntry)"
"0","  "
"0","  ggplot(data, aes(x=date, y=value, color=indicator)) +"
"0","    facet_wrap(~country) +"
"0","    geom_line( ) +"
"0","    geom_point(shape=21, fill=""#69b3a2"") +"
"0","    scale_color_manual("
"0","      values=c("
"0","        'ODIN Score' = ""darkred"","
"0","        'SPI Overall Score' =""blue"" "
"0","      )"
"0","    ) +"
"0","    guides(color='none') +"
"0","    # labs("
"0","    #   title='Volatility for SCI and SPI Overall Scores for 25 Randomly Selected Countries'"
"0","    # ) +"
"0","    xlab('') +"
"0","    ylab('') +"
"0","    expand_limits(y=c(0,100)) +"
"0","    theme_bw() +"
"0","    theme(legend.position = 'none')"
"0","}"
"0",""
"0","  "
"0","p2 <- country_vol_plot(""Belgium""  )             "
"0","p3 <- country_vol_plot(""Moldova"")"
"0","p4 <- country_vol_plot(""Belarus"")"
"0","p5 <- country_vol_plot(""Sao Tome and Principe"")"
"0","p6 <- country_vol_plot(""St. Kitts and Nevis"")"
"0","p7 <- country_vol_plot(""France"")"
"0","p8 <- country_vol_plot(""Cambodia"")"
"0","p9 <- country_vol_plot(""Belize"")"
"0","p10 <- country_vol_plot(""Ukraine"")"
"0","p11 <- country_vol_plot(""Nigeria"")"
"0","p12 <- country_vol_plot(""Serbia"")"
"0","p13 <- country_vol_plot(""Rwanda"" )              "
"0","p14 <- country_vol_plot(""Lithuania"")"
"0","p15 <- country_vol_plot(""Luxembourg"")"
"0","p16 <- country_vol_plot(""Romania"" )"
"0",""
"0",""
"0",""
"0","    "
